<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Player Login</title>

  <link id="body-dark-css" rel="stylesheet" href="static/body/body.dark.css">
  <link id="stats-css" rel="stylesheet" href="static/default-username-password/default-username-password.css">

  <script async src="static/time/current-time.js"></script>
  <script async src="static/loading/loading.js"></script>
  <script async src="static/toggle_password/toggle_password.js"></script>
</head>

<body>
  <div id="loading">Loading...</div>

  <form id="register-form" action="/register" method="POST">
    <div class="container">
      <div class="login-container">
        <div class="multi-row-container">
          <div class="text">Register</div>
          <div class="other">
            <div id="current-time"></div>
          </div>
        </div>

        <!-- Username Input -->
        <div class="username-row">
          <div class="username" for="username">Username</div>
          <div class="username-box">
            <input type="text" id="username" name="username" autocomplete="username" required />
          </div>
        </div>

        <!-- Password Input -->
        <div class="password-row">
          <div class="password" for="passphrase">Enter Password</div>
          <div class="password-box">
            <input type="password" id="passphrase_origin" name="passphrase_origin" autocomplete="new-password"
              required />
          </div>
        </div>

        <!-- Password Input Repeat -->
        <div class="password-row">
          <div class="password" for="passphrase">Repeat Password</div>
          <div class="password-box">
            <input type="password" id="passphrase_duplicate" name="passphrase_duplicate" required />
          </div>
          <div id="password-error" style="color: red; display: none;">Passwords do not match.</div>
        </div>

        <!-- Show Password Toggle -->
        <div class="multi-row-container">
          <label for="show-password">Show Password</label>
          <input type="checkbox" id="show-password" onclick="togglePassword('passphrase_origin')">
        </div>
        <!-- Login Button -->
        <button type="submit" class="button" id="register-button">Register</button>
      </div>
    </div>
  </form>

</body>
<script>
  document.getElementById("register-button").addEventListener("click", function (event) {
    var pass1 = document.getElementById("passphrase_origin").value;
    var pass2 = document.getElementById("passphrase_duplicate").value;
    var errorMsg = document.getElementById("password-error");

    if (pass1 !== pass2) {
      event.preventDefault(); // Prevent form submission
      errorMsg.style.display = "block";
      errorMsg.textContent = "Passwords do not match.";
      document.getElementById("passphrase_duplicate").value = "";
      document.getElementById("passphrase_duplicate").focus();
    } else {
      errorMsg.style.display = "none"; // Hide error if it was previously shown
    }
  });

</script>

</html>